{"version":3,"sources":["item.js"],"names":["cc","Class","extends","Component","properties","xMinSpeed","default","type","Integer","xMaxSpeed","yMinSpeed","yMaxSpeed","getItemClip","AudioClip","onLoad","director","getCollisionManager","enabled","xSpeed","Math","random","ySpeed","random0To1","itemGroup","node","parent","getComponent","onCollisionEnter","other","self","destroy","audioEngine","playEffect","update","dt","eState","D","commonInfo","gameState","start","x","y","height","ufoDied"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAW,EAAE;AACTC,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ;AAFD,SADH;AAKRC,mBAAW,EAAC;AACRH,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ;AAFD,SALH;AASRE,mBAAW;AACPJ,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ;AAFD,SATH,EAYN;;AAEFG,mBAAW,EAAE;AACTL,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ;AAFD,SAdH;AAkBRI,qBAAa;AACXL,kBAAMP,GAAGa,SADE;AAEXP,qBAAS;AAFE;AAlBL,KAHP;;AA2BL;AACAQ,YAAQ,kBAAY;AAChBd,WAAGe,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA0C,IAA1C;;AAEA,aAAKC,MAAL,GAAcC,KAAKC,MAAL,MAAe,KAAKX,SAAL,GAAe,KAAKJ,SAAnC,IAAgD,KAAKA,SAAnE;AACA,aAAKgB,MAAL,GAAcrB,GAAGsB,UAAH,MAAiB,KAAKX,SAAL,GAAe,KAAKD,SAArC,IAAkD,KAAKA,SAArE;AACA,aAAKa,SAAL,GAAiB,KAAKC,IAAL,CAAUC,MAAV,CAAiBC,YAAjB,CAA8B,WAA9B,CAAjB;AACH,KAlCI;AAmCL;AACAC,sBAAkB,0BAASC,KAAT,EAAeC,IAAf,EAAoB;AAClC,aAAKL,IAAL,CAAUM,OAAV;AACA9B,WAAG+B,WAAH,CAAeC,UAAf,CAA0B,KAAKpB,WAA/B,EAA4C,KAA5C;AACH,KAvCI;AAwCLqB,YAAQ,gBAAUC,EAAV,EAAc;AAClB,YAAI,KAAKX,SAAL,CAAeY,MAAf,IAAyBC,EAAEC,UAAF,CAAaC,SAAb,CAAuBC,KAApD,EAA0D;AACtD;AACH;AACD,aAAKf,IAAL,CAAUgB,CAAV,IAAeN,KAAG,KAAKhB,MAAvB;AACA,aAAKM,IAAL,CAAUiB,CAAV,IAAeP,KAAG,KAAKb,MAAvB;AACA,YAAI,KAAKG,IAAL,CAAUiB,CAAV,GAAc,CAAC,KAAKjB,IAAL,CAAUC,MAAV,CAAiBiB,MAAlB,GAAyB,CAA3C,EAA6C;AACzC,iBAAKnB,SAAL,CAAeoB,OAAf,CAAuB,KAAKnB,IAA5B;AACH;AACJ;AAjDI,CAAT","file":"item.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        xMinSpeed: { //x轴最小速度\n            default:0,\n            type:cc.Integer\n        },\n        xMaxSpeed: {//x轴最大速度\n            default:0,\n            type:cc.Integer\n        },\n        yMinSpeed: {\n            default:0,\n            type:cc.Integer\n        },//y轴最小速度\n        \n        yMaxSpeed: { //y轴最大速度\n            default:0,\n            type:cc.Integer\n        },\n        getItemClip: {\n          type :cc.AudioClip,\n          default: null\n        }\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        cc.director.getCollisionManager().enabled=true;\n        \n        this.xSpeed = Math.random()*(this.xMaxSpeed-this.xMinSpeed) + this.xMinSpeed;\n        this.ySpeed = cc.random0To1()*(this.yMaxSpeed-this.yMinSpeed) + this.yMinSpeed;\n        this.itemGroup = this.node.parent.getComponent('itemGroup');\n    },\n    //碰撞检测\n    onCollisionEnter: function(other,self){\n        this.node.destroy();\n        cc.audioEngine.playEffect(this.getItemClip, false);\n    },\n    update: function (dt) {\n        if (this.itemGroup.eState != D.commonInfo.gameState.start){\n            return ;\n        }\n        this.node.x += dt*this.xSpeed;\n        this.node.y += dt*this.ySpeed;\n        if (this.node.y < -this.node.parent.height/2){\n            this.itemGroup.ufoDied(this.node);\n        }\n    },\n});\n"]}