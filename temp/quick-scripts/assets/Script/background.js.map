{"version":3,"sources":["background.js"],"names":["cc","Class","extends","Component","properties","bg","Node","speed","onLoad","updatePosition","bg1","bg2","x","bg1Bound","getBoundingBox","setPosition","xMin","yMax","moveBg","bgList","i","length","y","checkBgReset","bg1_yMax","preBg","shift","push","curBg","update","dt"],"mappings":";;;;;;AAAA;AACA;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACTC,YAAG,CAACL,GAAGM,IAAJ,CADM;AAETC,eAAM;AAFG,KAFP;AAMNC,YAAQ,kBAAW;AACf,aAAKC,cAAL,CAAoB,KAAKJ,EAAL,CAAQ,CAAR,CAApB,EAA+B,KAAKA,EAAL,CAAQ,CAAR,CAA/B;AACH,KARK;AASNI,oBAAe,wBAASC,GAAT,EAAaC,GAAb,EAAiB;AAC5BD,YAAIE,CAAJ,GAAQ,CAAR;AACA,YAAIC,WAAWH,IAAII,cAAJ,EAAf;AACAH,YAAII,WAAJ,CAAgBF,SAASG,IAAzB,EAA+BH,SAASI,IAAxC;AACH,KAbK;AAcLC,YAAO,gBAASC,MAAT,EAAiBZ,KAAjB,EAAuB;AAC1B,aAAI,IAAIa,IAAI,CAAZ,EAAeA,IAAID,OAAOE,MAA1B,EAAkCD,GAAlC,EAAsC;AAClC,gBAAIf,KAAKc,OAAOC,CAAP,CAAT;AACAf,eAAGiB,CAAH,IAAQf,KAAR;AACH;AACJ,KAnBI;AAoBLgB,kBAAa,sBAASJ,MAAT,EAAgB;AACzB,YAAIK,QAAJ;AACA;AACAA,mBAAWL,OAAO,CAAP,EAAUL,cAAV,GAA2BG,IAAtC;AACA,YAAGO,YAAY,CAAf,EAAiB;AACb,gBAAIC,KAAJ;AACAA,oBAAQN,OAAOO,KAAP,EAAR;AACAP,mBAAOQ,IAAP,CAAYF,KAAZ;AACA,gBAAIG,QAAQT,OAAO,CAAP,CAAZ;AACAM,kBAAMH,CAAN,GAAUM,MAAMd,cAAN,GAAuBG,IAAjC;AACH;AACJ,KA/BI;AAgCNY,YAAO,gBAASC,EAAT,EAAY;AACf,aAAKZ,MAAL,CAAY,KAAKb,EAAjB,EAAqB,KAAKE,KAA1B;AACA,aAAKgB,YAAL,CAAkB,KAAKlB,EAAvB;AACH;AAnCK,CAAT","file":"background.js","sourceRoot":"../../../../assets/Script","sourcesContent":["//场景滚动\r\n//锚点为0\r\ncc.Class({  \r\n    extends: cc.Component,  \r\n    properties: {  \r\n       bg:[cc.Node],  \r\n       speed:5,  \r\n    },  \r\n   onLoad :function() {  \r\n       this.updatePosition(this.bg[0],this.bg[1]);  \r\n   },  \r\n   updatePosition:function(bg1,bg2){  \r\n       bg1.x = 0;  \r\n       var bg1Bound = bg1.getBoundingBox();  \r\n       bg2.setPosition(bg1Bound.xMin, bg1Bound.yMax);\r\n   }, \r\n    moveBg:function(bgList, speed){  \r\n        for(var i = 0; i < bgList.length; i++){ \r\n            var bg = bgList[i];  \r\n            bg.y -= speed;  \r\n        }  \r\n    }, \r\n    checkBgReset:function(bgList){\r\n        var bg1_yMax;\r\n        // winSize = cc.director.getWinSize();\r\n        bg1_yMax = bgList[0].getBoundingBox().yMax;\r\n        if(bg1_yMax <= 0){  \r\n            var preBg;\r\n            preBg = bgList.shift();\r\n            bgList.push(preBg);  \r\n            var curBg = bgList[0];  \r\n            preBg.y = curBg.getBoundingBox().yMax;  \r\n        }  \r\n    },  \r\n   update:function(dt){  \r\n       this.moveBg(this.bg, this.speed);\r\n       this.checkBgReset(this.bg);  \r\n   },  \r\n});  "]}