{"version":3,"sources":["../../../../assets/Script/assets/Script/boss.js"],"names":["cc","Class","extends","Component","properties","Hp","default","type","Integer","displayName","enemyDownClip","AudioClip","enemyGroup","require","xMinSpeed","xMaxSpeed","yMinSpeed","yMaxSpeed","onLoad","director","getCollisionManager","enabled","onCollisionEnter","other","self","node","group","bullet","getComponent","hpDrop","console","log","destroy","startAction","schedule","bossToMove","maxX","x","randomMinus1To1"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAI;AACAC,qBAAQ,CADR;AAEAC,kBAAKP,GAAGQ,OAFR;AAGAC,yBAAa;AAHb,SADI;AAMRC,uBAAe;AACbH,kBAAMP,GAAGW,SADI;AAEbL,qBAAS;AAFI,SANP;AAURM,oBAAY;AACRN,qBAAS,IADD;AAERC,kBAAMM,QAAQ,YAAR;AAFE,SAVJ;AAcRC,mBAAW;AACPR,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ,OAFD;AAGPC,yBAAa;AAHN,SAdH;AAmBRM,mBAAW;AACPT,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ,OAFD;AAGPC,yBAAa;AAHN,SAnBH;AAwBRO,mBAAW;AACPV,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ,OAFD;AAGPC,yBAAa;AAHN,SAxBH;AA6BRQ,mBAAW;AACPX,qBAAQ,CADD;AAEPC,kBAAKP,GAAGQ,OAFD;AAGPC,yBAAa;AAHN;AA7BH,KAHP;AAsCLS,YAAQ,kBAAW;AACflB,WAAGmB,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA;AACH,KAzCI;AA0CL;AACA;AACA;AACA;AACA;AACA;AACAC,sBAAkB,0BAASC,KAAT,EAAgBC,IAAhB,EAAsB;AACpC,YAAGD,MAAME,IAAN,CAAWC,KAAX,IAAoB,QAAvB,EAAgC;AAC5B;AACH;AACD,YAAIC,SAASJ,MAAME,IAAN,CAAWG,YAAX,CAAwB,QAAxB,CAAb;AACA,YAAG,KAAKvB,EAAL,GAAS,CAAZ,EAAc;AACV,iBAAKA,EAAL,IAAWsB,OAAOE,MAAlB;AACAC,oBAAQC,GAAR,CAAY,KAAK1B,EAAjB;AACH,SAHD,MAGM;AACF;AACH;AACD,YAAG,KAAKA,EAAL,IAAW,CAAd,EAAgB;AACZ,iBAAKoB,IAAL,CAAUC,KAAV,GAAkB,SAAlB;AACA,iBAAKD,IAAL,CAAUO,OAAV;AACH;AACJ,KA/DI;AAgELC,iBAAa,uBAAU;AACnB,aAAKC,QAAL,CAAc,KAAKC,UAAL,EAAd,EAAiC,CAAjC;AACH,KAlEI;AAmELA,gBAAY,sBAAU;AAClB,YAAIC,OAAO,GAAX;AACA,aAAKX,IAAL,CAAUY,CAAV,GAAcrC,GAAGsC,eAAH,KAAqBF,IAAnC;AAEH;AAvEI,CAAT","file":"boss.js","sourceRoot":"../../../../assets/Script","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Hp: {\r\n            default:0,\r\n            type:cc.Integer,\r\n            displayName: '初始生命值',\r\n        },\r\n        enemyDownClip: {\r\n          type: cc.AudioClip,\r\n          default: null\r\n        },\r\n        enemyGroup: {\r\n            default: null,\r\n            type: require('enemyGroup'),\r\n        },\r\n        xMinSpeed: {\r\n            default:0,\r\n            type:cc.Integer,\r\n            displayName: 'x轴最小速度',\r\n        },\r\n        xMaxSpeed: {\r\n            default:0,\r\n            type:cc.Integer,\r\n            displayName: 'x轴最大速度',\r\n        },\r\n        yMinSpeed: {\r\n            default:0,\r\n            type:cc.Integer,\r\n            displayName: 'y轴最小速度',\r\n        },\r\n        yMaxSpeed: { \r\n            default:0,\r\n            type:cc.Integer,\r\n            displayName: 'y轴最大速度',\r\n        },\r\n    },\r\n    onLoad: function() {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        // this.schedule(this.bossToMove(), 1);\r\n    },\r\n    // update: function(dt) {\r\n    //     var scores = this.enemyGroup.getScore();\r\n    //     if(scores >= 1000){\r\n    //         this.node.group = 'enemy';\r\n    //     }\r\n    // },\r\n    onCollisionEnter: function(other, self) {\r\n        if(other.node.group != 'bullet'){\r\n            return;\r\n        }\r\n        var bullet = other.node.getComponent('bullet');\r\n        if(this.Hp >0){\r\n            this.Hp -= bullet.hpDrop;\r\n            console.log(this.Hp);\r\n        }else {\r\n            return ;\r\n        }\r\n        if(this.Hp <= 0){\r\n            this.node.group = 'default';\r\n            this.node.destroy();\r\n        }\r\n    },\r\n    startAction: function(){\r\n        this.schedule(this.bossToMove(), 3);\r\n    },\r\n    bossToMove: function(){\r\n        var maxX = 300;\r\n        this.node.x = cc.randomMinus1To1()*maxX;\r\n        \r\n    }\r\n});\r\n"]}